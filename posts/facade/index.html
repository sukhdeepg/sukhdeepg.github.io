<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Facade with examples in Python | üíæ</title>
<meta name="keywords" content="design-patterns">
<meta name="description" content="The Facade Design Pattern is like having a remote control for various devices in our home. Imagine we have a TV, a sound system, and lights in our living room. Instead of turning on each one separately, we use a remote control (the &ldquo;facade&rdquo;) that has a single &ldquo;movie mode&rdquo; button. When we press it, the remote turns on the TV, sets the sound system to the right volume, and dims the lights all at once.">
<meta name="author" content="">
<link rel="canonical" href="https://sukhdeepg.github.io/posts/facade/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.4011e96cb50c0badbd5e58bc6d1415a2f58babd783714a3a042388142298609f.css" integrity="sha256-QBHpbLUMC629Xli8bRQVovWLq9eDcUo6BCOIFCKYYJ8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://sukhdeepg.github.io/img/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://sukhdeepg.github.io/img/favicon_16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://sukhdeepg.github.io/img/favicon_32.png">
<link rel="apple-touch-icon" href="https://sukhdeepg.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://sukhdeepg.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Facade with examples in Python" />
<meta property="og:description" content="The Facade Design Pattern is like having a remote control for various devices in our home. Imagine we have a TV, a sound system, and lights in our living room. Instead of turning on each one separately, we use a remote control (the &ldquo;facade&rdquo;) that has a single &ldquo;movie mode&rdquo; button. When we press it, the remote turns on the TV, sets the sound system to the right volume, and dims the lights all at once." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sukhdeepg.github.io/posts/facade/" />
<meta property="og:image" content="https://sukhdeepg.github.io/img/facade.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-06T23:03:34+05:30" />
<meta property="article:modified_time" content="2024-02-06T23:03:34+05:30" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://sukhdeepg.github.io/img/facade.png" />
<meta name="twitter:title" content="Facade with examples in Python"/>
<meta name="twitter:description" content="The Facade Design Pattern is like having a remote control for various devices in our home. Imagine we have a TV, a sound system, and lights in our living room. Instead of turning on each one separately, we use a remote control (the &ldquo;facade&rdquo;) that has a single &ldquo;movie mode&rdquo; button. When we press it, the remote turns on the TV, sets the sound system to the right volume, and dims the lights all at once."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://sukhdeepg.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Facade with examples in Python",
      "item": "https://sukhdeepg.github.io/posts/facade/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Facade with examples in Python",
  "name": "Facade with examples in Python",
  "description": "The Facade Design Pattern is like having a remote control for various devices in our home. Imagine we have a TV, a sound system, and lights in our living room. Instead of turning on each one separately, we use a remote control (the \u0026ldquo;facade\u0026rdquo;) that has a single \u0026ldquo;movie mode\u0026rdquo; button. When we press it, the remote turns on the TV, sets the sound system to the right volume, and dims the lights all at once.",
  "keywords": [
    "design-patterns"
  ],
  "articleBody": "The Facade Design Pattern is like having a remote control for various devices in our home. Imagine we have a TV, a sound system, and lights in our living room. Instead of turning on each one separately, we use a remote control (the ‚Äúfacade‚Äù) that has a single ‚Äúmovie mode‚Äù button. When we press it, the remote turns on the TV, sets the sound system to the right volume, and dims the lights all at once. The remote simplifies the process by providing one button to control everything, instead of us manually managing each device.\nIn the context of code, a facade is an object that provides a simplified interface to a larger body of code, like a library or a complex system of classes.\nLet‚Äôs understand this with an example:\n# Complex parts class Engine: def start(self): return \"Engine is starting\" class AirConditioner: def turn_on(self): return \"Air conditioner is on\" class Radio: def play_music(self): return \"Playing music\" # Facade class CarFacade: def __init__(self): self.engine = Engine() self.air_conditioner = AirConditioner() self.radio = Radio() def turn_on_car(self): start_engine = self.engine.start() ac_on = self.air_conditioner.turn_on() music = self.radio.play_music() return f\"{start_engine}, {ac_on}, and {music}\" def main(): car = CarFacade() print(car.turn_on_car()) if __name__ == \"__main__\": main() In this example, CarFacade acts as the remote control. The turn_on_car method is like the ‚Äúmovie mode‚Äù button; it starts the engine, turns on the air conditioner, and starts playing music with one command, hiding the complexity of the individual systems behind a simple interface.\nThe Facade Design Pattern is commonly used in situations where a system is very complex or difficult to understand because it involves a lot of interdependent classes or because its source code is hard to read. In such cases, a facade can provide a simple, easy-to-understand interface over the complex system. Here‚Äôs a real-world coding scenario where a facade might be used:\nScenario: Email System Integration\nImagine we are developing an application that needs to send out emails. The email sending process involves several complex steps:\nPreparing the email content: This may involve using a template system to insert data into predefined templates and formatting the content for plain text and HTML versions. Attachment handling: If our email has attachments, they need to be encoded and added to the email. SMTP configuration: We need to configure the Simple Mail Transfer Protocol (SMTP) settings, which might include setting up the host, port, user credentials, and encryption methods. Sending the email: This involves establishing a connection to the SMTP server, authenticating, sending the email data, and then handling the response. Error handling: Proper error handling and logging are necessary to understand if the email was sent successfully or if it failed. In a large application, each of these steps might be handled by a different class or library, and interacting with them directly can be quite complicated.\nFacade Implementation:\nTo simplify this for the rest of our application, we could create a EmailFacade class. This facade would provide a simple method such as send_email, which would internally handle all of the steps described above. The rest of our application code only needs to know about this facade and can send emails without worrying about the underlying complexities.\nHere is an abstract representation of what that might look like in code:\nclass EmailFacade: def __init__(self): self.content_creator = EmailContentCreator() self.attachment_handler = AttachmentHandler() self.smtp_configurator = SMTPConfigurator() self.email_sender = EmailSender() self.error_handler = EmailErrorHandler() def send_email(self, to_address, subject, template, data, attachments=None): content = self.content_creator.create_content(template, data) email = self.attachment_handler.add_attachments(content, attachments) smtp_details = self.smtp_configurator.configure_smtp() try: self.email_sender.send(smtp_details, to_address, subject, email) print(\"Email sent successfully!\") except Exception as e: self.error_handler.log_error(e) By using the facade, any developer working on the application can send emails easily without having to understand the inner workings of the email system. They just need to know the parameters for the send_email method of the EmailFacade. This not only makes the developer‚Äôs life easier but also makes the application more maintainable and less prone to errors.\n",
  "wordCount" : "652",
  "inLanguage": "en",
  "image":"https://sukhdeepg.github.io/img/facade.png","datePublished": "2024-02-06T23:03:34+05:30",
  "dateModified": "2024-02-06T23:03:34+05:30",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sukhdeepg.github.io/posts/facade/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "üíæ",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sukhdeepg.github.io/img/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://sukhdeepg.github.io/" accesskey="h" title="üíæ (Alt + H)">üíæ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://sukhdeepg.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://sukhdeepg.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://sukhdeepg.github.io/">Home</a>&nbsp;¬ª&nbsp;<a href="https://sukhdeepg.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      Facade with examples in Python
    </h1>
    <div class="post-meta"><span title='2024-02-06 23:03:34 +0530 IST'>February 6, 2024</span>&nbsp;¬∑&nbsp;4 min

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://sukhdeepg.github.io/img/facade.png" alt="facade">
        
</figure>
  <div class="post-content"><p>The Facade Design Pattern is like having a remote control for various devices in our home. Imagine we have a TV, a sound system, and lights in our living room. Instead of turning on each one separately, we use a remote control (the &ldquo;facade&rdquo;) that has a single &ldquo;movie mode&rdquo; button. When we press it, the remote turns on the TV, sets the sound system to the right volume, and dims the lights all at once. The remote simplifies the process by providing one button to control everything, instead of us manually managing each device.</p>
<p>In the context of code, a facade is an object that provides a simplified interface to a larger body of code, like a library or a complex system of classes.</p>
<p>Let&rsquo;s understand this with an example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Complex parts</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Engine</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;Engine is starting&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AirConditioner</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">turn_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;Air conditioner is on&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Radio</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">play_music</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;Playing music&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Facade</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">CarFacade</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">air_conditioner</span> <span class="o">=</span> <span class="n">AirConditioner</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">radio</span> <span class="o">=</span> <span class="n">Radio</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">turn_on_car</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">start_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">ac_on</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">air_conditioner</span><span class="o">.</span><span class="n">turn_on</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">music</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radio</span><span class="o">.</span><span class="n">play_music</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">start_engine</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">ac_on</span><span class="si">}</span><span class="s2">, and </span><span class="si">{</span><span class="n">music</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">car</span> <span class="o">=</span> <span class="n">CarFacade</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">turn_on_car</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">main</span><span class="p">()</span>
</span></span></code></pre></div><p>In this example, <code>CarFacade</code> acts as the remote control. The <code>turn_on_car</code> method is like the &ldquo;movie mode&rdquo; button; it starts the engine, turns on the air conditioner, and starts playing music with one command, hiding the complexity of the individual systems behind a simple interface.</p>
<p>The Facade Design Pattern is commonly used in situations where a system is very complex or difficult to understand because it involves a lot of interdependent classes or because its source code is hard to read. In such cases, a facade can provide a simple, easy-to-understand interface over the complex system. Here&rsquo;s a real-world coding scenario where a facade might be used:</p>
<p><strong>Scenario: Email System Integration</strong></p>
<p>Imagine we are developing an application that needs to send out emails. The email sending process involves several complex steps:</p>
<ol>
<li><strong>Preparing the email content</strong>: This may involve using a template system to insert data into predefined templates and formatting the content for plain text and HTML versions.</li>
<li><strong>Attachment handling</strong>: If our email has attachments, they need to be encoded and added to the email.</li>
<li><strong>SMTP configuration</strong>: We need to configure the Simple Mail Transfer Protocol (SMTP) settings, which might include setting up the host, port, user credentials, and encryption methods.</li>
<li><strong>Sending the email</strong>: This involves establishing a connection to the SMTP server, authenticating, sending the email data, and then handling the response.</li>
<li><strong>Error handling</strong>: Proper error handling and logging are necessary to understand if the email was sent successfully or if it failed.</li>
</ol>
<p>In a large application, each of these steps might be handled by a different class or library, and interacting with them directly can be quite complicated.</p>
<p><strong>Facade Implementation:</strong></p>
<p>To simplify this for the rest of our application, we could create a <code>EmailFacade</code> class. This facade would provide a simple method such as <code>send_email</code>, which would internally handle all of the steps described above. The rest of our application code only needs to know about this facade and can send emails without worrying about the underlying complexities.</p>
<p>Here is an abstract representation of what that might look like in code:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">EmailFacade</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">content_creator</span> <span class="o">=</span> <span class="n">EmailContentCreator</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">attachment_handler</span> <span class="o">=</span> <span class="n">AttachmentHandler</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">smtp_configurator</span> <span class="o">=</span> <span class="n">SMTPConfigurator</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">email_sender</span> <span class="o">=</span> <span class="n">EmailSender</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">error_handler</span> <span class="o">=</span> <span class="n">EmailErrorHandler</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">send_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_address</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_creator</span><span class="o">.</span><span class="n">create_content</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">email</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attachment_handler</span><span class="o">.</span><span class="n">add_attachments</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">attachments</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">smtp_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">smtp_configurator</span><span class="o">.</span><span class="n">configure_smtp</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">email_sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">smtp_details</span><span class="p">,</span> <span class="n">to_address</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">email</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Email sent successfully!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">error_handler</span><span class="o">.</span><span class="n">log_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></span></code></pre></div><p>By using the facade, any developer working on the application can send emails easily without having to understand the inner workings of the email system. They just need to know the parameters for the <code>send_email</code> method of the <code>EmailFacade</code>. This not only makes the developer&rsquo;s life easier but also makes the application more maintainable and less prone to errors.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://sukhdeepg.github.io/tags/design-patterns/">design-patterns</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://sukhdeepg.github.io/posts/decorator/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>Decorator with examples in Python</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://sukhdeepg.github.io/">üíæ</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
